{"version":3,"sources":["main.js"],"names":["startDate","Date","getTime","todaysDate","weekInterval","dutyPlaces","tbody","document","querySelector","dayDate","searchInput","innerHTML","toDateString","toLocaleTimeString","getTableHtml","addEventListener","e","value","target","rows","querySelectorAll","forEach","row","userName","getAttribute","length","toLowerCase","indexOf","className","showCustomBtn","getElementById","customDate","customDateModal","customCloseDateModal","classList","remove","style","display","add","date","setAttribute","toISOString","slice","chosenDate","customTbody","endDate","weeksToday","indexCalc","Math","floor","users","html","user","i","dutyIndex","abs"],"mappings":"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","file":"main.1f19ae8e.js","sourceRoot":"../src","sourcesContent":["const startDate = new Date(\"12 November 2022\").getTime();\nconst todaysDate = new Date().getTime();\nconst weekInterval = 604800000;\n\nconst dutyPlaces = [\n  \"BATHROOM\",\n  \"KITCHEN\",\n  //   \"FRIDGE AND FLOOR (KITCHEN AND ITS BALCONY)\",\n  //   \"COOKING AREA AND WOODWORK\",\n  \"CORRIDOR AND TOILET\",\n  // \"TOILET\",\n];\n\nconst tbody = document.querySelector(\".duty-content tbody\");\nconst dayDate = document.querySelector(\".day-and-date\");\nconst searchInput = document.querySelector(\"#searchDuty\");\n\nif (dayDate) {\n  dayDate.innerHTML =\n    new Date().toDateString() + \", \" + new Date().toLocaleTimeString();\n}\nif (tbody) {\n  tbody.innerHTML = getTableHtml(startDate, todaysDate);\n}\n\nif (searchInput) {\n  searchInput.addEventListener(\"keyup\", (e) => {\n    const { value } = e.target;\n    const rows = tbody.querySelectorAll(\"tr\");\n    rows.forEach((row) => {\n      const userName = row.getAttribute(\"data-name\");\n      if (\n        value.length > 0 &&\n        userName.toLowerCase().indexOf(value.toLowerCase()) < 0\n      ) {\n        row.className = \"hide\";\n      } else row.className = \"\";\n    });\n  });\n}\n\nconst showCustomBtn = document.getElementById(\"show-custom-btn\");\nconst customDate = document.getElementById(\"custom-date\");\nconst customDateModal = document.getElementById(\"custom-date-modal\");\nconst customCloseDateModal = document.getElementById(\"close-modal-custom-date\");\n\ndocument.addEventListener(\"click\", (e) => {\n  if (e.target == customDateModal) {\n    customDateModal.classList.remove(\"show\");\n    customCloseDateModal.style.display = \"none\";\n  }\n});\n\nif (showCustomBtn)\n  showCustomBtn.addEventListener(\"click\", () =>\n    customDateModal.classList.add(\"show\")\n  );\n\nif (customCloseDateModal)\n  customCloseDateModal.addEventListener(\"click\", () => {\n    customDateModal.classList.remove(\"show\");\n    customCloseDateModal.style.display = \"none\";\n  });\n\nif (customDate) {\n  const date = new Date();\n\n  customDate.setAttribute(\"max\", date.toISOString().slice(0, 10));\n  customDate.addEventListener(\"change\", (e) => {\n    const { value: chosenDate } = e.target;\n    document.querySelector(\".day-and-date-modal\").innerHTML =\n      new Date(chosenDate).toDateString() +\n      \", \" +\n      new Date(chosenDate).toLocaleTimeString();\n\n    const customTbody = document.querySelector(\".modal-table-card tbody\");\n\n    customTbody.innerHTML = getTableHtml(\n      startDate,\n      new Date(chosenDate).getTime()\n    );\n    customCloseDateModal.style.display = \"block\";\n  });\n}\n\nfunction getTableHtml(startDate, endDate) {\n  const weeksToday = (endDate - startDate) / weekInterval;\n  const indexCalc = Math.floor(weeksToday) % users.length;\n\n  let html = \"\";\n  users.forEach((user, i) => {\n    const dutyIndex =\n      indexCalc + i >= users.length\n        ? Math.abs(users.length - (indexCalc + i))\n        : indexCalc + i;\n\n    html += `\n    <tr data-name=\"${user.userName}\">\n    <td>${user.userName}</td>\n    <td>${dutyPlaces[dutyIndex]}</td>\n    </tr>\n    `;\n  });\n  return html;\n}\n"]}