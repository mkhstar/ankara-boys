{"version":3,"sources":["bills.js"],"names":["recordSelectInput","document","getElementById","resetButton","noResultElement","querySelector","addButton","initializeButton","billSummary","billContainer","totalValueElement","distrElement","usersCountElement","generateBtn","getTemplate","next","name","amount","paidBy","users","map","user","short","userName","addEventListener","innerHTML","calculate","data","reduce","acc","v","i","childElementCount","insertAdjacentHTML","e","target","className","getAttribute","stopPropagation","removeChild","parentElement","generateTemplate","classList","remove","add","total","Array","from","children","Number","value","totalValue","parseFloat","toFixed","usersCount","innerText","console","log","Date","toLocaleString","month","child","join"],"mappings":"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","file":"bills.cf9a3703.js","sourceRoot":"../src","sourcesContent":["const recordSelectInput = document.getElementById(\"add-input-group\");\nconst resetButton = document.getElementById(\"reset-button\");\nconst noResultElement = document.querySelector(\".no-results\");\nconst addButton = document.getElementById(\"add-button\");\nconst initializeButton = document.getElementById(\"initialize-button\");\nconst billSummary = document.querySelector(\".bill-summary\");\nconst billContainer = document.querySelector(\".bill-container\");\nconst totalValueElement = document.getElementById(\"totalValue\");\nconst distrElement = document.getElementById(\"distr\");\nconst usersCountElement = document.getElementById(\"users-count\");\nconst generateBtn = document.getElementById(\"generateBtn\");\n\nconst getTemplate = (next, name, amount, paidBy) => `\n        <div class=\"item\">\n            <div class=\"name-group\">\n              <label for=\"name-input-${next}\">Name</label>\n              <input type=\"text\" class=\"name-value\" id=\"name-input-${next}\" value=\"${name}\" />\n            </div>\n            <div class=\"amount-group\">\n              <label for=\"amount-input-${next}\">Amount</label>\n              <input type=\"number\" class=\"amount-value\" id=\"amount-input-${next}\" value=\"${amount}\" />\n            </div>\n            <div class=\"paid-by-group\">\n              <label for=\"paid-by-${next}\">Paid By</label>\n              <select class=\"paid-by-value\" id=\"paid-by-${next}\">\n                ${users.map(\n                  (user) =>\n                    `<option ${\n                      user.short === paidBy ? \"selected\" : \"\"\n                    } value=\"${user.short}\">${user.userName}</option>`\n                )}\n              </select>\n            </div>\n            <button type=\"button\" class=\"cancel-button\">Cancel</button>\n        </div> \n`;\n\nresetButton.addEventListener(\"click\", () => {\n  billContainer.innerHTML = \"\";\n  calculate();\n});\n\ninitializeButton.addEventListener(\"click\", () => {\n  const data = [\n    {\n      name: \"Rent\",\n      amount: 600,\n      paidBy: \"MKH\",\n    },\n    {\n      name: \"Aydat\",\n      amount: 300,\n      paidBy: \"Yusif\",\n    },\n    {\n      name: \"Hot Water\",\n      amount: 450,\n      paidBy: \"Yusif\",\n    },\n    {\n      name: \"Electricity\",\n      amount: 200,\n      paidBy: \"MKH\",\n    },\n    {\n      name: \"Water\",\n      amount: 50,\n      paidBy: \"MKH\",\n    },\n    {\n      name: \"Wifi\",\n      amount: 105,\n      paidBy: \"MKH\",\n    },\n  ];\n  billContainer.innerHTML = data.reduce(\n    (acc, v, i) => acc + getTemplate(i + 1, v.name, v.amount, v.paidBy),\n    ``\n  );\n  calculate();\n});\n\naddButton.addEventListener(\"click\", () => {\n  const { childElementCount } = billContainer;\n  const next = childElementCount + 1;\n\n  billContainer.insertAdjacentHTML(\"beforeend\", getTemplate(next, \"\", \"\", \"\"));\n  calculate();\n});\n\nbillContainer.addEventListener(\"click\", (e) => {\n  const { target } = e;\n  const className = target.getAttribute(\"class\");\n  if (className !== \"cancel-button\") return;\n  e.stopPropagation();\n  billContainer.removeChild(target.parentElement);\n  calculate();\n});\n\nbillContainer.addEventListener(\"input\", (e) => {\n  const { target } = e;\n  const className = target.getAttribute(\"class\");\n  if (className !== \"amount-value\") return;\n  e.stopPropagation();\n  calculate();\n});\n\ngenerateBtn.addEventListener(\"click\", generateTemplate);\n\nfunction calculate() {\n  if (!billContainer.childElementCount) {\n    billSummary.classList.remove(\"show\");\n    noResultElement.classList.add(\"show\");\n    return;\n  }\n  const total = Array.from(billContainer.children).reduce(\n    (acc, v) =>\n      acc + Number(v.querySelector(\".amount-group .amount-value\").value) || 0,\n    0\n  );\n\n  const totalValue = Number.parseFloat(total).toFixed(2);\n  const usersCount = Number(usersCountElement.value);\n\n  totalValueElement.innerText = totalValue;\n  distrElement.innerText = `(${totalValue} / ${usersCount}) = ${Number.parseFloat(\n    totalValue / usersCount\n  ).toFixed(2)}`;\n\n  billSummary.classList.add(\"show\");\n  noResultElement.classList.remove(\"show\");\n}\n\nfunction generateTemplate() {\n  const children = Array.from(billContainer.children);\n  \n  console.log(`*${new Date().toLocaleString(\"default\", {\n    month: \"long\",\n  })} bills*\n\n_Salam alaikum_\n${children.reduce((acc, v) => {\n  const name = v.querySelector(\".name-value\").value;\n  const amount = Number(v.querySelector(\".amount-value\").value) || 0;\n  const paidBy = v.querySelector(\".paid-by-value\").value;\n\n  return (\n    acc +\n    \"\" +\n    (`${name}: ${Number.parseFloat(amount).toFixed(2)}TL (${paidBy})` + \"\\r\\n\")\n  );\n}, \"\")}\n    \nTotal: *${totalValueElement.innerText}TL*\n\nEach will contribute: *${distrElement.innerText}TL*\n\nTotal Per User:\n${users\n  .map(\n    (user) =>\n      `${user.short}: ${Number.parseFloat(\n        children.reduce((acc, child) => {\n          const name = child.querySelector(\".name-value\").value;\n          const amount =\n            Number(child.querySelector(\".amount-value\").value) || 0;\n          const paidBy = child.querySelector(\".paid-by-value\").value;\n\n          if (paidBy === user.short) {\n            acc += amount;\n          }\n          return acc;\n        }, 0)\n      ).toFixed(2)}TL`\n  )\n  .join(\"\\n\")}\n    `);\n}\n"]}